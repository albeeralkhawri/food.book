{% extends 'base.html'%} {% block content %}
<div class="row">
    <h1>Edit Recipe</h1>
    <form class="col s12" method="POST" action="{{ url_for('update_recipe', id=recipe.id) }}" enctype="multipart/form-data">
    
    <div class="input-field col s12 m6">   
        <label for="recipe_name" >Recipe Name:</label>
        <input type="text" id="recipe_name" name="recipe_name" value="{{recipe.recipe_name}}" required>
    </div>
      
    <div class="input-field col s12">
        <label for="recipe_description" >Recipe Description:</label>
        <input type="text" id="recipe_description" name="recipe_description" value="{{recipe.recipe_description}}" required>
    </div>
     
    <div class="input-field col s12 m4">
        <label for="preparation_time" >Preparation Time:</label>
        <input type="number" id="preparation_time" name="preparation_time" value="{{recipe.preparation_time}}" required>
    </div>
     
    <div class="input-field col s12 m4">
        <label for="cooking_time" >Cooking Time:</label>
        <input type="number" id="cooking_time" name="cooking_time" value="{{recipe.cooking_time}}" required>
    </div>
        
    <div class="input-field col s12 m4">
        <label for="servings" >Servings:</label>
        <input type="number" id="servings" name="servings" value="{{recipe.servings}}" required>
    </div>


    <div class="col s12 m6">
        <label for="recipe_category" >Category:</label>
        <select id="recipe_category" name="recipe_category" required>
            {% for category in categories_list %}
            <option value="{{category.id}}" {% if category.id==recipe.category_id %} SELECTED{% endif %}>{{category.category_name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col s12 m6">
        <label for="recipe_course" >Course:</label>
        <select id="recipe_course" name="recipe_course" required>
            {% for course in courses_list %}
            <option value="{{course.id}}" {% if course.id==recipe.course_id %} SELECTED{% endif %}>{{course.course_name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col s12 m6">
        <label for="recipe_cuisine" >Cuisine:</label>
        <select id="recipe_cuisine" name="recipe_cuisine" required>
            {% for cuisine in cuisines_list %}
            <option value="{{cuisine.id}}" {% if cuisine.id==recipe.cuisine_id %} SELECTED{% endif %}>{{cuisine.cuisine_name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col s12 m6">
        <label for="recipe_author" >Author:</label>
        <select id="recipe_author" name="recipe_author" required>
            {% for author in authors_list %}
            <option value="{{author.id}}" {% if author.id==recipe.author_id %} SELECTED{% endif %}>{{author.author_name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col s12">
        {% if recipe.image_url %}
        <img src="{{ recipe.image_url }}" alt="{{ recipe.image_filename }}">
        {% endif %}

        <input type=file name=recipe_image>
    </div>
    
    <div class="col s12">
        <button class="waves-effect waves-light btn right" onclick="M.toast({html: 'Recipe Updated!'})">Update Recipe</button>
    </div>
    </form>
</div>
{% endblock %}